library(here)
library(tidyverse)
billboard <- read_csv(here("Data/billboard_clean.csv"))
billboard_top10 <- billboard %>%
group_by(performer, song) %>%
summarize(count = n()) %>%
arrange(desc(count)) %>%
head(n = 10)
billboard_unique <- billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
group_by(year) %>%
summarize(count = n())
ggplot(billboard_unique) +
geom_line(aes(x=year, y=count))
billboard_byyear <- billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
group_by(year) %>%
summarize(count = n())
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
View(billboard)
billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique()
billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique()
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
group_by(performer)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
group_by(performer) %>%
summarize(count)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
group_by(performer) %>%
summarize(count = n())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
group_by(performer)
'billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique()
summarize(count = n()) %>%
filter(count >= 30)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique()
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9)
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
billboard
library(tidyverse)
library(here)
library(tidyverse)
billboard <- read_csv(here("Data/billboard_clean.csv"))
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique()
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer) %>%
unique() %>%
summarize(count = n())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer) %>%
unique() %>%
summarize(count = n(performer))
??summarize
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer) %>%
unique() %>%
summarize(count = n_distinct())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
summarize(count = n_distinct())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song)
billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique()
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique()
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n_distinct())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
View(billboard_10week)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10)
View(billboard_10week)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique()
View(billboard_10week)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n())
View(billboard_10week)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
View(billboard_10week)
library(tidyverse)
library(mosaic)
library(airportr)
library(dplyr)
library(usmap)
library(maptools)
library(ggplot2)
library(rgdal)
library(viridis)
ABIA <- read.csv("~/R/Data Mining/Data mining examples/ABIA.csv")
ABIA <- read.csv("~/GitHub/Data-Mining-Proj-1/Data/ABIA.csv")
View(ABIA)
ABIA_stats = ABIA %>%
filter(Origin == 'AUS') %>%
group_by(Dest) %>%
summarize(count = n(),
mean_arr_delay = mean(ArrDelay, na.rm=TRUE)) %>%
filter(count > 99)
ABIA_airlines = ABIA %>%
filter(Origin == 'AUS') %>%
group_by(UniqueCarrier) %>%
summarize(count = n())
## We need to clear the entire airports database from airport into airports in the US only
## Side note: we probably don't have to do this with inner_join, which matches only ids that appear in both
airportsUS <- airports %>%
filter(`Country Code` == 840) %>%
rename(Dest = IATA)
## Let's also have only Austin outgoing flights
ABIA_outbound <- ABIA %>%
filter(Origin == 'AUS')
## Let's join our tables
ABIA_locations <- inner_join(x = ABIA_outbound, y = airportsUS, by = 'Dest')
## Great! We didn't lose any data, so each Destination had a corresponding airport code and now we have geographical information for each.
## We need to reorganize the data and map it to the usmap package:
ABIA_locations2 <- ABIA_locations %>%           # Reorder LAT
dplyr::select("Latitude", everything())
ABIA_locations3 <- ABIA_locations2 %>%           # Reorder LONG
dplyr::select("Longitude", everything())
## This step could probably be consolidated.
ABIA_locations4 <- ABIA_locations3 %>%
group_by(Longitude, Latitude, Dest) %>%
summarize(count = n(),
mean_arr_delay = mean(ArrDelay, na.rm=TRUE)) %>%
filter(count > 99)
ABIA_transformed <- usmap_transform(ABIA_locations4)
## Create separate script to save csv
## Let's try a plot:
plot_usmap() +
geom_point(data = ABIA_transformed, aes(x = Longitude.1, y = Latitude.1, colour = mean_arr_delay, size = mean_arr_delay),
alpha = 0.5) +
scale_color_viridis_b(direction = -1, guide = "legend") +
scale_size_continuous(range = c(.1, 16)) +
labs(title = "Flights",
subtitle = "Source: ") +
theme(legend.position = "right")
billboard_top10 <- billboard %>%
group_by(performer, song) %>%
summarize(count = n()) %>%
arrange(desc(count)) %>%
head(n = 10)
billboard_byyear <- billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
group_by(year) %>%
summarize(count = n())
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
library(here)
library(tidyverse)
billboard <- read_csv(here("Data/billboard_clean.csv"))
billboard_top10 <- billboard %>%
group_by(performer, song) %>%
summarize(count = n()) %>%
arrange(desc(count)) %>%
head(n = 10)
billboard_byyear <- billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
group_by(year) %>%
summarize(count = n())
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
