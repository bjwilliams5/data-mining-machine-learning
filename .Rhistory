filter(week > 9)
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
billboard
library(tidyverse)
library(here)
library(tidyverse)
billboard <- read_csv(here("Data/billboard_clean.csv"))
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique()
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer) %>%
unique() %>%
summarize(count = n())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer) %>%
unique() %>%
summarize(count = n(performer))
??summarize
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer) %>%
unique() %>%
summarize(count = n_distinct())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
summarize(count = n_distinct())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song)
billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique()
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique()
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n_distinct())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n())
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week > 9) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
View(billboard_10week)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10)
View(billboard_10week)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique()
View(billboard_10week)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n())
View(billboard_10week)
billboard_10week <- billboard %>%
filter(year > 1958, year <2021) %>%
filter(week >= 10) %>%
select(performer, song) %>%
unique() %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
View(billboard_10week)
library(tidyverse)
library(mosaic)
library(airportr)
library(dplyr)
library(usmap)
library(maptools)
library(ggplot2)
library(rgdal)
library(viridis)
ABIA <- read.csv("~/R/Data Mining/Data mining examples/ABIA.csv")
ABIA <- read.csv("~/GitHub/Data-Mining-Proj-1/Data/ABIA.csv")
View(ABIA)
ABIA_stats = ABIA %>%
filter(Origin == 'AUS') %>%
group_by(Dest) %>%
summarize(count = n(),
mean_arr_delay = mean(ArrDelay, na.rm=TRUE)) %>%
filter(count > 99)
ABIA_airlines = ABIA %>%
filter(Origin == 'AUS') %>%
group_by(UniqueCarrier) %>%
summarize(count = n())
## We need to clear the entire airports database from airport into airports in the US only
## Side note: we probably don't have to do this with inner_join, which matches only ids that appear in both
airportsUS <- airports %>%
filter(`Country Code` == 840) %>%
rename(Dest = IATA)
## Let's also have only Austin outgoing flights
ABIA_outbound <- ABIA %>%
filter(Origin == 'AUS')
## Let's join our tables
ABIA_locations <- inner_join(x = ABIA_outbound, y = airportsUS, by = 'Dest')
## Great! We didn't lose any data, so each Destination had a corresponding airport code and now we have geographical information for each.
## We need to reorganize the data and map it to the usmap package:
ABIA_locations2 <- ABIA_locations %>%           # Reorder LAT
dplyr::select("Latitude", everything())
ABIA_locations3 <- ABIA_locations2 %>%           # Reorder LONG
dplyr::select("Longitude", everything())
## This step could probably be consolidated.
ABIA_locations4 <- ABIA_locations3 %>%
group_by(Longitude, Latitude, Dest) %>%
summarize(count = n(),
mean_arr_delay = mean(ArrDelay, na.rm=TRUE)) %>%
filter(count > 99)
ABIA_transformed <- usmap_transform(ABIA_locations4)
## Create separate script to save csv
## Let's try a plot:
plot_usmap() +
geom_point(data = ABIA_transformed, aes(x = Longitude.1, y = Latitude.1, colour = mean_arr_delay, size = mean_arr_delay),
alpha = 0.5) +
scale_color_viridis_b(direction = -1, guide = "legend") +
scale_size_continuous(range = c(.1, 16)) +
labs(title = "Flights",
subtitle = "Source: ") +
theme(legend.position = "right")
billboard_top10 <- billboard %>%
group_by(performer, song) %>%
summarize(count = n()) %>%
arrange(desc(count)) %>%
head(n = 10)
billboard_byyear <- billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
group_by(year) %>%
summarize(count = n())
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
library(here)
library(tidyverse)
billboard <- read_csv(here("Data/billboard_clean.csv"))
billboard_top10 <- billboard %>%
group_by(performer, song) %>%
summarize(count = n()) %>%
arrange(desc(count)) %>%
head(n = 10)
billboard_byyear <- billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
group_by(year) %>%
summarize(count = n())
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
library(here)
library(tidyverse)
billboard <- read_csv(here("Data/billboard_clean.csv"))
library(here)
library(tidyverse)
read_csv(here("Data/billboard.csv"))
library(here)
library(tidyverse)
read_csv(here("Data/billboard.csv")) %>%
select(performer, song, year, week, week_position, song_id) %>%
write_csv(here("Data/billboard_clean.csv"))
library(here)
library(tidyverse)
billboard <- read_csv(here("Data/billboard_clean.csv"))
billboard %>%
group_by(song_id)
billboard %>%
group_by(song_id) %>%
summarize(count = n())
billboard %>%
group_by(song_id) %>%
summarize(count = n()) %>%
filter(count >= 10)
billboard %>%
group_by(song, performer)
billboard %>%
group_by(song, performer) %>%
summarize(count = n())
billboard %>%
group_by(song, performer)
billboard %>%
select(song, performer, week)
billboard %>%
select(song, performer, week) %>%
group_by(song, performer) %>%
summarize(count = n())
billboard %>%
select(song, performer, week) %>%
group_by(song, performer) %>%
summarize(count = n()) %>%
filter(count >= 10)
billboard %>%
select(song, performer, week) %>%
group_by(song, performer) %>%
summarize(count = n()) %>%
filter(count >= 10) %>%
group_by(performer) %>%
summarize(count = n())
billboard %>%
select(song, performer, week) %>%
group_by(song, performer) %>%
summarize(count = n()) %>%
filter(count >= 10) %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
library(here)
library(tidyverse)
read_csv(here("Data/billboard.csv")) %>%
select(performer, song, year, week, week_position) %>%
write_csv(here("Data/billboard_clean.csv"))
library(here)
library(tidyverse)
billboard <- read_csv(here("Data/billboard_clean.csv"))
billboard_top10 <- billboard %>%
group_by(performer, song) %>%
summarize(count = n()) %>%
arrange(desc(count)) %>%
head(n = 10)
billboard_byyear <- billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
group_by(year) %>%
summarize(count = n())
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
billboard_10week <- billboard %>%
select(song, performer, week) %>%
group_by(song, performer) %>%
summarize(count = n()) %>%
filter(count >= 10) %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
ggplot(billboard_10week) +
geom_col(aes(x=performer, y=count))
ggplot(billboard_10week) +
geom_col(aes(x=count, y=performer))
billboard_10week %>%
ggplot(aes(count, fct_reorder(performer, count))) +
geom_col()
billboard_10week %>%
ggplot(aes(count, fct_reorder(performer, count))) +
geom_col() +
labs(Title="Billboard Top Performers",
subtitle="Artists with at least 30 songs on the Billboard Charts for at least 10 weeks",
x="Number of Songs",
y="Artist")
billboard_10week %>%
ggplot(aes(count, fct_reorder(performer, count))) +
geom_col() +
labs(title="Billboard Top Performers",
subtitle="Artists with at least 30 songs on the Billboard Charts for at least 10 weeks",
x="Number of Songs",
y="Artist")
billboard_10week %>%
ggplot(aes(count, fct_reorder(performer, count))) +
geom_col() +
labs(title="Billboard Top Performers",
subtitle="Artists with at least 30 songs on the Billboard Charts for at least 10 weeks",
x="Number of Songs",
y="Artist") +
theme(plot.title.position = 'plot')
billboard_10week %>%
ggplot(aes(count, fct_reorder(performer, count))) +
geom_col() +
labs(title="Billboard Top Performers",
subtitle="Number of Songs on Billboard for at least 10 Weeks",
x="Number of Songs",
y="Artist") +
theme(plot.title.position = 'plot')
library(here)
library(tidyverse)
billboard <- read_csv(here("Data/billboard_clean.csv"))
billboard_top10 <- billboard %>%
group_by(performer, song) %>%
summarize(count = n()) %>%
arrange(desc(count)) %>%
head(n = 10)
billboard_byyear <- billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
group_by(year) %>%
summarize(count = n())
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
billboard_10week <- billboard %>%
select(song, performer, week) %>%
group_by(song, performer) %>%
summarize(count = n()) %>%
filter(count >= 10) %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
billboard_10week %>%
ggplot(aes(count, fct_reorder(performer, count))) +
geom_col() +
labs(title="Billboard Top Performers",
subtitle="Number of Songs on Billboard for at least 10 Weeks",
x="Number of Songs",
y="Artist") +
theme(plot.title.position = 'plot')
library(here)
library(tidyverse)
billboard <- read_csv(here("Data/olympics_top20.csv"))
olympics <- read_csv(here("Data/olympics_top20.csv"))
View(olympics)
olympics %>%
filter(sport = "Athletics")
olympics %>%
filter(sport == "Athletics")
olympics %>%
filter(sport == "Athletics") %>%
quantile(.95)
olympics %>%
filter(sport == "Athletics") %>%
quantile(height, .95)
olympics %>%
filter(sport == "Athletics") %>%
quantile(height, probs=.95)
olympics %>%
filter(sport == "Athletics") %>%
quantile("height", probs=.95)
olympics %>%
filter(sport == "Athletics")
olympics %>%
filter(sport == "Athletics") %>%
quantile(height, =.95)
olympics %>%
filter(sport == "Athletics") %>%
quantile(height, .95)
olympics %>%
filter(sport == "Athletics")
olympics %>%
filter(sport == "Athletics") %>%
quantile($height, .95)
olympics %>%
filter(sport == "Athletics") %>%
quantile(olympics$height, .95)
olympics %>%
filter(sport == "Athletics") %>%
quantile(olympics$height, probs = c(.95))
athletics <- olympics %>%
filter(sport == "Athletics")
quantile(athletics$height, probs = c(.95))
athletics <- olympics %>%
filter(sport == "Athletics", sex == "F")
quantile(athletics$height, probs = c(.95))
athletics <- olympics %>%
filter(sport == "Athletics", sex == "F") %>%
select(id, height) %>%
unique()
quantile(athletics$height, probs = c(.95))
View(athletics)
athletics <- olympics %>%
filter(sport == "Athletics", sex == "F") %>%
select(id, height) %>%
unique()
quantile(athletics$height, probs = c(.95))
quantile(athletics$height, probs == 95)
quantile(athletics$height, probs = c(95))
quantile(athletics$height, probs = c(.95))
athletics <- olympics %>%
filter(sport == "Athletics", sex == "F") %>%
select(id, height)
quantile(athletics$height, probs = c(.95))
athletics <- olympics %>%
filter(sport == "Athletics", sex == "F") %>%
select(id, height) %>%
unique()
View(olympics)
olympics %>%
filter(sex == "F")
group_by(event) %>%
summarize(stddev = sd(height))
sddev <- olympics %>%
filter(sex == "F")
group_by(event) %>%
summarize(stddev = sd(height))
View(sddev)
sddev <- olympics %>%
filter(sex == "F") %>%
group_by(event) %>%
summarize(stddev = sd(height))
View(billboard_10week)
sddev <- olympics %>%
filter(sex == "F") %>%
group_by(event) %>%
summarize(stddev = sd(height)) %>%
arrange(desc(stddev))
olympics %>%
filter(sex == "F") %>%
group_by(event) %>%
summarize(stddev = sd(height)) %>%
arrange(desc(stddev))
sddev <- olympics %>%
filter(sex == "F") %>%
group_by(event) %>%
summarize(stddev = sd(height)) %>%
arrange(desc(stddev)) %>%
head(1)
View(billboard_top10)
View(billboard_byyear)
billboard_byyear <- billboard %>%
filter(year > 1958, year <2021) %>%
select(performer, song, year) %>%
unique() %>%
group_by(year) %>%
summarize(count = n())
ggplot(billboard_byyear) +
geom_line(aes(x=year, y=count))
billboard_10week <- billboard %>%
select(song, performer, week) %>%
group_by(song, performer) %>%
summarize(count = n()) %>%
filter(count >= 10) %>%
group_by(performer) %>%
summarize(count = n()) %>%
filter(count >= 30)
billboard_10week %>%
ggplot(aes(count, fct_reorder(performer, count))) +
geom_col() +
labs(title="Billboard Top Performers",
subtitle="Number of Songs on Billboard for at least 10 Weeks",
x="Number of Songs",
y="Artist") +
theme(plot.title.position = 'plot')
olympics %>%
group_by(year, sex) %>%
summarize(avgage = mean(age))
View(olympics)
olympics %>%
filter(sport == "Swimming") %>%
group_by(year, sex) %>%
summarize(avgage = mean(age))
avgage <- olympics %>%
filter(sport == "Swimming") %>%
group_by(year, sex) %>%
summarize(avgage = mean(age))
ggplot(avgage) +
geom_line(aes(x=year, y=avgage, color=sex))
library(tidyverse)
library(ggplot2)
library(rsample)  # for creating train/test splits
library(caret)
library(modelr)
library(parallel)
library(foreach)
library(here)
sclass <- read_csv(here("Data/sclass.csv"))
